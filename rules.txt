CREATE TABLE CMR_BUSINESS_RULES
(
  CBR_ID                    NUMBER NOT NULL,
  CBR_NAME                  VARCHAR2(50 byte),
  CBR_TYPE                  VARCHAR2(50 byte),
  CBR_EFFECTIVE_START_DATE  TIMESTAMP,
  CBR_EFFECTIVE_END_DATE    TIMESTAMP,
  CBR_RTL_ID                NUMBER,
  CBR_CREATED_DATE          TIMESTAMP,
  CBR_CREADTED_BY           VARCHAR2(50 byte),
  CBR_MODIFIED_DATE         TIMESTAMP,
  CBR_MODIFIED_BY           VARCHAR(50 byte)
)
/

CREATE TABLE CMR_RULE_CONDITIONS
(
  CRC_ID                    NUMBER NOT NULL,
  CRC_CBR_ID                NUMBER NOT NULL,
  CRC_NAME                  VARCHAR2(50 byte),
  CRC_TYPE                  VARCHAR2(50 byte),
  CRC_CREATED_DATE          TIMESTAMP,
  CRC_CREADTED_BY           VARCHAR2(50 byte),
  CRC_MODIFIED_DATE         TIMESTAMP,
  CRC_MODIFIED_BY           VARCHAR(50 byte)
)
/

CREATE TABLE CMR_RULE_PARAMS
(
  CRP_ID                    NUMBER NOT NULL,
  CRP_CRC_ID                NUMBER NOT NULL,
  CRP_KEY                   VARCHAR2(50 byte),
  CRP_VALUE                 VARCHAR2(100 byte),
  CRP_CREATED_DATE          TIMESTAMP,
  CRP_CREADTED_BY           VARCHAR2(50 byte),
  CRP_MODIFIED_DATE         TIMESTAMP,
  CRCP_MODIFIED_BY          VARCHAR(50 byte)
)
/

CREATE UNIQUE INDEX CMR_BUSINESS_RULES_PK ON CMR_BUSINESS_RULES (CBR_ID)
/

CREATE UNIQUE INDEX CMR_RULE_CONDITIONS_PK ON CMR_RULE_CONDITIONS (CRC_ID)
/

CREATE UNIQUE INDEX CMR_RULE_PARAMS_PK ON CMR_RULE_PARAMS CRP_ID)
/

ALTER TABLE CMR_BUSINESS_RULES ADD (
  CONSTRAINT CMR_BUSINESS_RULES_PK
  PRIMARY KEY (CBR_ID)
  USING INDEX CMR_BUSINESS_RULES_PK
  ENABLE VALIDATE)
/

ALTER TABLE CMR_RULE_CONDITIONS ADD (
  CONSTRAINT CMR_RULE_CONDITIONS_PK
  PRIMARY KEY (CRC_ID)
  USING INDEX CMR_RULE_CONDITIONS_PK
  ENABLE VALIDATE)
/

ALTER TABLE CMR_RULE_CONDITIONS ADD (
  CONSTRAINT CMR_RULE_CONDITIONS_FK
  FOREIGN KEY (CRC_CBR_ID)
  REFERENCES CMR_BUSINESS_RULES (CBR_ID)
/

ALTER TABLE CMR_RULE_PARAMS ADD (
  CONSTRAINT CMR_RULE_PARAMS_PK
  PRIMARY KEY (CRP_ID)
  USING INDEX CMR_RULE_PARAMS_PK
  ENABLE VALIDATE)
/

ALTER TABLE CMR_RULE_PARAMS ADD (
  CONSTRAINT CMR_RULE_PARAMS_FK
  FOREIGN KEY (CRP_CRC_ID)
  REFERENCES CMR_RULE_CONDITIONS (CRC_ID)
/
